## 15、二进制中1的个数

#### 题目：

请实现一个函数，输入一个整数，输出该数二进制表示中1的个数。例如，把9表示成二进制是1001，有两位是1001，有两位是1。因此如果输入9，则该函数输出2。

#### 解法一（忽略负数，不推荐）：

如何查看一个二进制数的最右边是不是1？

- 这个整数与1做位与运算
- 如果最后一位是1，则返回1。如果最后一位是0，则返回0
- **这里忽略了二进制负数，负数会导致死循环的问题。**



把n不断的做右移，并且与1做位与运算，如果最右边为1，那么count+1。

```java
public int numberOf1(int n) {
		int count = 0;
		while(n>0) {
			if((n & 1)==1) {
				count++;
				n = n>>1;
			}
		}
		return count;
	}
```



#### 解法二（左移，推荐）：

既然右移会导致二进制负数死循环，那么可以把1左移，并与二进制数做位与运算。这样就可以从二进制数的右往左判断有多少个1了。

**总的移动次数为整数的二进制位数，32位。**

```java
public int numberOf1(int n) {
		
		int count = 0;
		int flag = 1;
		
		while(flag>0) {
			if((flag&n)==1) {
				count++;
			}
			flag = flag<<1;
		}
		
		return count;
	}
```



#### 解法三（二进制数减一）：

二进制数减一：

- 如果最后一位为1，减完之后为新数，新数与旧数做位与运算，运算结果相比旧数，少了一个1
- 如果最后一位为0，减一，则从右往左起第一个1变成0，前面的不变，后面的 0都变成1。新数和旧数做位与运算，发现结果相比旧数又少了1。



```java
public int numberOf13(int n) {
		
		int count = 0;
		while(n>0) {
			++count;
			n = (n-1)&n;
		}
		
		return count;
	}
```

**这种办法不容易想到，解法二才是常规的办法。**

